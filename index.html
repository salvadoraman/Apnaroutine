<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do Website</title>
    <link rel="stylesheet" href="indexx.css">
   
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body  id="main">
  
    
   <!--coding html-->
   <div class="container text-center">
    
    <img src="https://i.pinimg.com/originals/e0/0f/53/e00f538bef44b55164875182aa09a1d1.gif"
     alt=""
    class="img-fluid"
    style="width:150px";
    >
    <h1 class="text-center" id="h"> To Do List</h1>
    <div class="card">
        <div class="card-body">
         
            <div class="form-group">
                <input  id="txt"
                type="text"
                class="from-control"
                placeholder="Enter the text"
               
                />
            </div>
            <br/>
            <textarea
            cols="20"
            class="form-control"
            id="desc"
            rows="18"
            placeholder="Enter the desc"
            ></textarea>
            <div class="container text-center mt-2">
                <button onclick="addto()" class="btn btn-danger">Add</button>
            </div>
        </div>
       <br/>
    </div>
    <div class="main-content" id="main-content">
          
    </div>
   </div>
   
  <script>
    let addto=()=>{
    let title=document.getElementById("txt").value;
    let details=document.getElementById("desc").value;

    let arr=[];
    let localobj=localStorage.getItem("arr");



//yha pr arr ka storgae me value check kiye agar null nhi hai to string ko obj me convert krenge
 if(localobj!=null)
{
    arr=JSON.parse(localobj);
}
let todoobj={
    title:title,
    desc:details,
    id:Math.trunc(Math.random()*1000)

}

arr.push(todoobj);
localStorage.setItem("arr",JSON.stringify(arr));
show_todo();
};


const show_todo = () => {
        let todoString = localStorage.getItem("arr");

        let content = "";

        if (todoString == null) {
          //no todo
          content += "<h3 class='text-white'>NO TODO TO SHOW</h3>";
        } else {
          let todos = JSON.parse(todoString);
          for (let todo of todos.reverse()) {
            content += `
              
              
              <div class='card mt-2 '>
                <div class='card-body'>
                       <h3>${todo.title}</h3>
                       <p>${todo.desc}</p> 
                </div>    
              </div>
              
              
              `;
          }
        }

        document.getElementById("main-content").innerHTML = content;
      };
     show_todo();
      </script>
      </body>
</html>